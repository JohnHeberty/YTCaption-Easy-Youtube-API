# Application Settings
APP_NAME=Whisper Transcription API
APP_VERSION=1.0.0
APP_ENVIRONMENT=production

# Server Settings
HOST=0.0.0.0
PORT=8000

# Whisper Settings
# Options: tiny, base, small, medium, large, turbo
# RAM por worker: tiny=~400MB, base=~800MB, small=~1.5GB, medium=~3GB, large=~6GB
WHISPER_MODEL=base              # base=bom equilÃ­brio qualidade/performance
WHISPER_DEVICE=cpu              # cpu ou cuda (se GPU disponÃ­vel)
WHISPER_LANGUAGE=auto           # auto=detecÃ§Ã£o automÃ¡tica, ou pt/en/es/etc

# Parallel Transcription Settings (Persistent Worker Pool)
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# ğŸš€ Workers carregam modelo UMA VEZ no startup (speedup 3-5x)
# ğŸ“– Veja docs/10-PARALLEL-ARCHITECTURE.md para arquitetura completa
#
# âš ï¸  ATENÃ‡ÃƒO: Requer RAM = (workers Ã— tamanho_modelo) + overhead
#    - tiny:   ~400MB/worker  â†’ 2 workers = ~1GB RAM
#    - base:   ~800MB/worker  â†’ 2 workers = ~2GB RAM  â­ RECOMENDADO
#    - small:  ~1.5GB/worker  â†’ 2 workers = ~3.5GB RAM
#    - medium: ~3GB/worker    â†’ 2 workers = ~7GB RAM
#    - large:  ~6GB/worker    â†’ 2 workers = ~13GB RAM
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

# Ativa/desativa processamento paralelo
# true  = Workers persistentes (modelo carregado 1x, rÃ¡pido para Ã¡udios longos)
# false = Single-core (mais estÃ¡vel, menor uso de RAM)
ENABLE_PARALLEL_TRANSCRIPTION=true

# NÃºmero de workers persistentes (processos separados)
# Cada worker carrega modelo Whisper UMA VEZ no startup
# Valores:
#   - 0 = auto-detect (usa nÃºmero de CPU cores, ALTO USO DE RAM!)
#   - 2 = conservador, bom para 4GB RAM com modelo base  â­ RECOMENDADO
#   - 3-4 = ideal para servidores com 8GB+ RAM
#   - 6+ = apenas para servidores dedicados com 16GB+ RAM
PARALLEL_WORKERS=2

# DuraÃ§Ã£o de cada chunk em segundos
# Cada chunk Ã© processado independentemente por um worker
# Valores:
#   - 60s  = chunks curtos, mais paralelismo (overhead alto)
#   - 120s = bom equilÃ­brio (padrÃ£o recomendado)  â­ RECOMENDADO
#   - 180s = chunks mÃ©dios
#   - 300s = chunks longos, menos overhead
PARALLEL_CHUNK_DURATION=120

# Audio Normalization Settings (Advanced)
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# ğŸµ Melhorias de qualidade de Ã¡udio antes da transcriÃ§Ã£o
# ğŸ“– Veja docs/NORMALIZACAO-AUDIO-IMPLEMENTADA.md para detalhes
#
# âš ï¸  ATENÃ‡ÃƒO: Cada filtro adiciona ~20-30% de tempo de processamento
#    Mas pode melhorar significativamente a acurÃ¡cia em Ã¡udios ruins!
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

# NormalizaÃ§Ã£o de Volume (Loudness Normalization)
# true  = Equaliza volume entre diferentes Ã¡udios (Ãºtil para batch processing)
# false = MantÃ©m volume original (padrÃ£o para maioria dos casos)
# Casos de uso: Ã¡udios muito baixos/altos, mÃºltiplas fontes, podcasts amadores
ENABLE_AUDIO_VOLUME_NORMALIZATION=false

# RemoÃ§Ã£o de RuÃ­do de Fundo (Noise Reduction)
# true  = Remove frequÃªncias fora da faixa de voz humana (200Hz-3000Hz)
# false = MantÃ©m todas as frequÃªncias
# Casos de uso: gravaÃ§Ãµes externas, ventilador/AC, microfone de baixa qualidade
ENABLE_AUDIO_NOISE_REDUCTION=false

# YouTube
YOUTUBE_FORMAT=worstaudio
MAX_VIDEO_SIZE_MB=2500                    # Aumentado para suportar vÃ­deos longos
MAX_VIDEO_DURATION_SECONDS=10800          # 3 horas mÃ¡ximo
DOWNLOAD_TIMEOUT=900                      # 15 minutos

# Storage Settings
TEMP_DIR=./temp
CLEANUP_ON_STARTUP=true
CLEANUP_AFTER_PROCESSING=true
MAX_TEMP_AGE_HOURS=24

# API Settings
MAX_CONCURRENT_REQUESTS=3                 # Reduzido para evitar sobrecarga com vÃ­deos longos
REQUEST_TIMEOUT=3600                      # 1 hora para vÃ­deos longos
ENABLE_CORS=true
CORS_ORIGINS=*

# Logging Settings
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=./logs/app.log

# Performance Settings
WORKERS=1
WORKER_CLASS=uvicorn.workers.UvicornWorker
