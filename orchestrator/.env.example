# =========================
# Configurações da Aplicação
# =========================
APP_NAME=youtube-caption-orchestrator
APP_VERSION=1.0.0
ENVIRONMENT=development
DEBUG=false

# =========================
# Servidor
# =========================
HOST=0.0.0.0
DIVISOR=4
PORT=800${DIVISOR}
WORKERS=1

# =========================
# Redis
# =========================
REDIS_URL=redis://192.168.18.110:6379/${DIVISOR}

# =========================
# Cache e Jobs
# =========================
CACHE_TTL_HOURS=24
JOB_TIMEOUT_MINUTES=60

# =========================
# Limitações de Recursos
# =========================
MAX_FILE_SIZE_MB=500

# =========================
# Logging
# =========================
LOG_LEVEL=INFO
LOG_DIR=./orchestrator/logs

# =========================
# Microserviços URLs (URLs corrigidas para resiliência)
# =========================
VIDEO_DOWNLOADER_URL=http://192.168.18.132:8001
AUDIO_NORMALIZATION_URL=http://192.168.18.133:8002
AUDIO_TRANSCRIBER_URL=http://192.168.18.203:8003

# =========================
# Timeouts dos Microserviços (aumentados para resiliência)
# =========================
VIDEO_DOWNLOADER_TIMEOUT=900        # 15 minutos
AUDIO_NORMALIZATION_TIMEOUT=600     # 10 minutos
AUDIO_TRANSCRIBER_TIMEOUT=1200      # 20 minutos

# =========================
# Polling Adaptativo (otimizado para jobs longos)
# =========================
POLL_INTERVAL_INITIAL=2             # Polling inicial rápido
POLL_INTERVAL_MAX=30                # Polling máximo após várias tentativas
MAX_POLL_ATTEMPTS=600               # 30 min max com polling adaptativo

# =========================
# Retry para Microserviços (configuração robusta)
# =========================
MICROSERVICE_MAX_RETRIES=5          # 5 tentativas por requisição
MICROSERVICE_RETRY_DELAY=3          # 3 segundos base para backoff exponencial

# =========================
# Circuit Breaker (proteção contra serviços com problema)
# =========================
CIRCUIT_BREAKER_MAX_FAILURES=5      # Máximo de falhas antes de abrir circuito
CIRCUIT_BREAKER_RECOVERY_TIMEOUT=300 # 5 minutos para tentar novamente

# =========================
# Parâmetros Padrão dos Microserviços
# =========================
DEFAULT_LANGUAGE=auto
DEFAULT_REMOVE_NOISE=true
DEFAULT_CONVERT_MONO=true
DEFAULT_SAMPLE_RATE_16K=true
