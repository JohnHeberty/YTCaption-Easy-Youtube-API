# ===== CONFIGURAÇÃO DO SERVIÇO DE DUBLAGEM E CLONAGEM DE VOZ =====
# Copie este arquivo para .env e ajuste os valores conforme necessário

# ===== APLICAÇÃO =====
APP_NAME=Audio Voice Service
VERSION=1.0.0
ENVIRONMENT=development  # development, staging, production
DEBUG=false

# ===== SERVIDOR =====
HOST=0.0.0.0
DIVISOR=5
PORT=800${DIVISOR}

# ===== REDIS =====
# Para Docker Compose: redis://redis:6379/0
# Para desenvolvimento local: redis://localhost:6379/0
# Para Redis remoto: redis://usuario:senha@host:porta/db
REDIS_URL=redis://192.168.18.110:6379/${DIVISOR}

# ===== CELERY =====
CELERY_BROKER_URL=${REDIS_URL}  # Usa mesma URL do Redis
CELERY_RESULT_BACKEND=${REDIS_URL}  # Usa mesma URL do Redis
CELERY_TASK_TIME_LIMIT=1800  # 30 minutos máximo por task
CELERY_TASK_SOFT_TIME_LIMIT=1600  # 26.6 minutos soft limit
CELERY_WORKER_PREFETCH_MULTIPLIER=1
CELERY_WORKER_MAX_TASKS_PER_CHILD=50

# ===== CACHE =====
CACHE_TTL_HOURS=24
CACHE_CLEANUP_INTERVAL_MINUTES=30
CACHE_MAX_SIZE_MB=2048
VOICE_PROFILE_TTL_DAYS=30

# ===== LIMITES DE PROCESSAMENTO =====
MAX_FILE_SIZE_MB=100  # Tamanho máximo do arquivo (1-500MB)
MAX_DURATION_MINUTES=10  # Duração máxima do áudio (1-60 minutos)
MAX_TEXT_LENGTH=10000  # Máximo de caracteres para dublagem
MAX_CONCURRENT_JOBS=3
JOB_TIMEOUT_MINUTES=15

# ===== OPENVOICE - MODELO =====
# Modelos disponíveis: base, v1, v2
# base: Modelo básico, rápido (RECOMENDADO PARA DESENVOLVIMENTO)
# v1: OpenVoice V1, melhor qualidade
# v2: OpenVoice V2, melhor qualidade e mais idiomas
OPENVOICE_MODEL_PATH=./models
OPENVOICE_DEVICE=cuda  # cpu ou cuda (se tiver GPU NVIDIA)
OPENVOICE_DEFAULT_MODEL=base
OPENVOICE_PRELOAD_MODELS=false
OPENVOICE_SAMPLE_RATE=24000

# ===== OPENVOICE - CLONAGEM =====
OPENVOICE_MIN_CLONE_DURATION_SEC=5  # Mínimo de 5 segundos
OPENVOICE_MAX_CLONE_DURATION_SEC=60  # Máximo de 60 segundos
OPENVOICE_CLONE_SAMPLE_RATE=24000

# ===== DIRETÓRIOS =====
UPLOAD_DIR=./uploads
PROCESSED_DIR=./processed
TEMP_DIR=./temp
VOICE_PROFILES_DIR=./voice_profiles
MODELS_DIR=./models
LOG_DIR=./logs

# ===== LOGGING =====
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=json  # json ou text
LOG_ROTATION=1 day
LOG_RETENTION=30 days

# ===== FFMPEG =====
FFMPEG_THREADS=0  # 0 = auto
FFMPEG_AUDIO_CODEC=pcm_s16le  # Codec ideal para processamento
